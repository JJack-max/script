一、题目纠错（还原原意）

问题 #230

一家公司担心正在使用的两个 NAT 实例 已无法再支持公司应用程序所需的流量。
解决方案架构师希望实施一个高可用、容错且可自动扩展的解决方案。

解决方案架构师应该推荐什么？

A. 移除两个 NAT 实例，并在同一可用区内用两个 NAT 网关替换它们。
B. 对不同可用区的 NAT 实例使用带有网络负载均衡器的自动扩展组。
C. 移除两个 NAT 实例，并在不同可用区内用两个 NAT 网关替换它们。
D. 用不同可用区的 Spot 实例替换两个 NAT 实例，并部署一个网络负载均衡器。


二、正确答案 ✅

👉 C. 移除两个 NAT 实例，并在不同可用区内用两个 NAT 网关替换它们。


三、核心考点拆解（这是典型高频题）
1️⃣ NAT Instance vs NAT Gateway（必须秒反应）
| 对比项  | NAT Instance   | NAT Gateway |
| ---- | -------------- | ----------- |
| 可扩展性 | ❌ 需手动扩容        | ✅ 自动水平扩展    |
| 高可用  | ❌ 自己做 ASG / 切换 | ✅ AWS 托管    |
| 吞吐量  | ❌ 受实例规格限制      | ✅ 可达数十 Gbps |
| 运维成本 | ❌ 高            | ✅ 极低        |
| 官方推荐 | ❌ 已不推荐         | ✅ **强烈推荐**  |


👉 题目已经明确“流量不够 + 自动扩展 + 高可用” → NAT Gateway 是唯一正解

2️⃣ 为什么 必须是不同可用区（Multi-AZ）

NAT Gateway 本身是 AZ 级别资源

私有子网访问公网时：

每个 AZ 内的私有子网

应使用同 AZ 的 NAT Gateway

否则会出现：

跨 AZ 流量费用

单 AZ 故障风险

👉 所以必须是 多个 AZ + 每个 AZ 一个 NAT Gateway

四、逐项排错（考试必会）
❌ A. 同一可用区两个 NAT 网关

错误原因：

同一 AZ → 没有高可用

AZ 故障 = 全挂

❌ B. NAT 实例 + ASG + NLB

错误原因：

架构复杂

NAT 实例本身就不推荐

NLB + NAT 实例是老旧架构

不如 NAT Gateway 托管可靠

👉 考试中：

“能用托管服务，就不要自己折腾”

❌ D. Spot NAT 实例 + NLB

错误原因：

Spot 实例随时会被回收

NAT 是基础网络组件

用 Spot = 灾难级设计

五、一句话记忆法（考场救命）

NAT 性能 / 扩展 / 高可用问题 = 多 AZ NAT Gateway

或者更狠一点：

只要题目提到“流量不够 + NAT 实例” → 直接换 NAT Gateway

如果你愿意，我可以帮你整理一张
📌 《NAT Instance / NAT Gateway / Internet Gateway / ALB / NLB 秒选对照表》
考试时几乎不会再错。

