## é—®é¢˜ #360

ä¸€å®¶å…¬å¸ä½¿ç”¨ **Amazon API Gateway** åœ¨åŒä¸€ä¸ª **VPC** ä¸­è¿è¡Œä¸€ä¸ª**ç§æœ‰ API Gateway**ï¼Œå¹¶æ‹¥æœ‰ä¸¤ä¸ª REST APIï¼š

- **BuyStock REST API**
- **CheckFunds REST API**ï¼ˆç”¨äºåœ¨ä¹°è‚¡ç¥¨å‰æ£€æŸ¥èµ„é‡‘æ˜¯å¦å……è¶³ï¼‰

é—®é¢˜ï¼š
- ä» **VPC Flow Logs** å‘ç°  
  ğŸ‘‰ BuyStock åœ¨è°ƒç”¨ CheckFunds æ—¶ **èµ°çš„æ˜¯å…¬ç½‘ï¼ˆInternetï¼‰**  
  ğŸ‘‰ è€Œä¸æ˜¯é€šè¿‡ **VPC å†…éƒ¨é€šä¿¡**

éœ€æ±‚ï¼š
- è®© API **é€šè¿‡ VPC è¿›è¡Œé€šä¿¡**
- **æœ€å°‘çš„ä»£ç ä¿®æ”¹**

å“ªç§è§£å†³æ–¹æ¡ˆæœ€åˆé€‚ï¼Ÿ

A. åœ¨ HTTP å¤´ä¸­æ·»åŠ  `X-API-Key` å¤´è¿›è¡Œæˆæƒ  
B. ä½¿ç”¨ **æ¥å£ç«¯ç‚¹ï¼ˆInterface VPC Endpointï¼‰**  
C. ä½¿ç”¨ **ç½‘å…³ç»ˆç«¯èŠ‚ç‚¹ï¼ˆGateway Endpointï¼‰**  
D. åœ¨ä¸¤ä¸ª REST API ä¹‹é—´æ·»åŠ  **Amazon SQS** é˜Ÿåˆ—  

---

## æ­£ç¡®ç­”æ¡ˆ
**ğŸ‘‰ B**

---

## è§£æ

### æ ¸å¿ƒè€ƒç‚¹
- **API Gateway ç§æœ‰ API**
- **VPC å†…éƒ¨é€šä¿¡**
- **é¿å…èµ°å…¬ç½‘**
- **æœ€å°‘ä»£ç æ”¹åŠ¨**

---

## ä¸ºä»€ä¹ˆé€‰ Bï¼šæ¥å£ç«¯ç‚¹ï¼ˆInterface VPC Endpointï¼‰

### âœ… API Gateway ç§æœ‰ API çš„æ ‡å‡†è®¿é—®æ–¹å¼

- **Private API Gateway** å¿…é¡»é€šè¿‡  
  ğŸ‘‰ **Interface VPC Endpointï¼ˆAWS PrivateLinkï¼‰** è®¿é—®
- æ¥å£ç«¯ç‚¹ä¼šï¼š
  - åœ¨ VPC å†…åˆ›å»º ENI
  - æä¾›ç§æœ‰ IP
  - æ‰€æœ‰æµé‡ **ä¸ç»è¿‡ Internet**

ğŸ“Œ ä¸€æ—¦é…ç½®æ¥å£ç«¯ç‚¹ï¼š
- BuyStock â†’ CheckFunds  
- æµé‡ **100% ç•™åœ¨ VPC å†…**

---

### âœ… æœ€å°‘ä»£ç æ”¹åŠ¨
- ä¸éœ€è¦æ”¹ä¸šåŠ¡é€»è¾‘
- é€šå¸¸åªéœ€è¦ï¼š
  - ä¿®æ”¹ API çš„è®¿é—®åŸŸåï¼ˆDNS è§£æåˆ° VPC Endpointï¼‰
- éä¾µå…¥å¼æ¶æ„è°ƒæ•´ï¼Œ**è€ƒè¯•æœ€ä¼˜è§£**

---

## ä¸ºä»€ä¹ˆå…¶ä»–é€‰é¡¹ä¸å¯¹

### âŒ A. X-API-Key
- åªæ˜¯ **é‰´æƒ**
- âŒ ä¸å½±å“ç½‘ç»œè·¯å¾„
- âŒ ä¸èƒ½é˜»æ­¢èµ°å…¬ç½‘

---

### âŒ C. ç½‘å…³ç»ˆç«¯èŠ‚ç‚¹ï¼ˆGateway Endpointï¼‰
- **åªæ”¯æŒï¼š**
  - Amazon S3
  - Amazon DynamoDB
- âŒ ä¸æ”¯æŒ API Gateway
- è¿™æ˜¯ç»å…¸è€ƒè¯•é™·é˜±

---

### âŒ D. Amazon SQS
- æ”¹å˜äº†ç³»ç»Ÿæ¶æ„ï¼ˆåŒæ­¥ â†’ å¼‚æ­¥ï¼‰
- éœ€è¦æ”¹ä»£ç å’Œä¸šåŠ¡é€»è¾‘
- âŒ ä¸ç¬¦åˆâ€œæœ€å°‘ä»£ç æ”¹åŠ¨â€

---

## ä¸€å¥è¯è®°å¿†
> **Private API Gateway + VPC å†…è®¿é—® = Interface VPC Endpoint**

### è€ƒè¯•ç§’æ€å…¬å¼
> **API Gateway ç§æœ‰ API æƒ³èµ°å†…ç½‘ â†’ Interface Endpointï¼ˆä¸æ˜¯ Gateway Endpointï¼‰**
