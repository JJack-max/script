## 问题 #301（纠错后｜**5 天内完成**）

一家生命科学研究实验室需要将 **30 TB 数据** 从本地 **Windows 文件服务器** 迁移到  
**Amazon FSx for Windows File Server**。

已知条件：
- 实验室只有一条 **1 Gbps 的网络链路**
- 该链路被多个部门共享
- 实验室希望：
  - **最大化数据传输性能**
  - **可控制迁移任务使用的带宽**，尽量减少对其他部门的影响
- **数据迁移必须在接下来的 5 天内完成**

哪种 AWS 解决方案可以满足这些要求？

A. AWS Snowcone  
B. Amazon FSx File Gateway  
C. AWS DataSync  
D. AWS Transfer Family  

---

## 正确答案
**👉 C**

---

## 解析

### 关键计算（判断可行性的核心）

**30 TB / 5 天 ≈ 6 TB / 天**

换算带宽需求：
- 30 TB ≈ 240 Tb
- 5 天 ≈ 432,000 秒
- 平均需要 ≈ **555 Mbps**

👉 在 1 Gbps 链路上：
- 即使限制在 **600–700 Mbps**
- 仍可在 **5 天内完成**
- 同时给其他部门留出带宽空间

---

### 为什么选 C：AWS DataSync（即使是 5 天也成立）

**AWS DataSync 的关键能力刚好命中题目要求：**

✅ **高性能**
- 并行、多线程传输
- 专为 TB / PB 级数据设计

✅ **可控带宽（决定性因素）**
- 可显式配置带宽上限（throttling）
- 避免“吃满”1 Gbps 链路

✅ **完美匹配源/目标**
- 源：Windows 文件服务器（SMB）
- 目标：Amazon FSx for Windows File Server

✅ **可靠性**
- 校验完整性
- 支持失败重试
- 支持增量同步（若有变更）

👉 **DataSync = 高速 + 可控 + 托管**

---

### 为什么其他选项不合适

**A. AWS Snowcone**
- ❌ 离线迁移设备
- ❌ 需要物流运输，**5 天内风险极高**
- ❌ Snowcone 容量有限（通常 ≤ 8 TB），需要多台

**B. Amazon FSx File Gateway**
- ❌ 主要用于 **混合访问**
- ❌ 不是高性能迁移工具
- ❌ 无精细带宽控制能力

**D. AWS Transfer Family**
- ❌ 面向 SFTP / FTPS
- ❌ 不适合文件服务器 → FSx 的大规模迁移
- ❌ 性能与控制能力不足

---

## 一句话记忆（更新版）
> **TB 级文件迁移 + 5 天内完成 + 要限速 → 只有 AWS DataSync**
