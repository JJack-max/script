## 问题 #312

一家公夜有一个在**多个 Amazon EC2 实例**上运行的应用程序。  
每个 EC2 实例都附加了**多个 Amazon EBS 数据卷**。  

公司要求：
- **每晚备份 EC2 实例配置和数据**
- **支持跨 AWS 区域恢复**
- 采用**最具操作效率**的方式（最少自定义运维）

解决方案架构师应选择哪种方案？

A. 编写一个 AWS Lambda 函数，计划每晚对应用程序的 EBS 卷进行快照，并将快照复制到不同的区域。  
B. 使用 **AWS Backup** 创建备份计划以执行每晚备份。将备份复制到另一个区域。**添加应用程序的 EC2 实例作为资源**。  
C. 使用 AWS Backup 创建备份计划以执行每晚备份。将备份复制到另一个区域。添加应用程序的 EBS 卷作为资源。  
D. 编写一个 AWS Lambda 函数，调度应用程序 EBS 卷的每晚快照，并将快照复制到不同的可用区。

---

## 正确答案
**👉 B**

---

## 解析

### 考点
- **AWS Backup 统一备份管理**
- **EC2 + EBS 一致性备份**
- **跨区域（Cross-Region）恢复**
- **最小化运维与自定义代码**

---

### 为什么选 B

**方案 B 是最符合“高效运维 + 全量恢复”的方案：**

#### 1️⃣ 覆盖完整备份范围
- 将 **EC2 实例作为备份资源**
- AWS Backup 会：
  - 自动备份 **实例配置**
  - 自动包含 **所有附加的 EBS 卷**
- 满足“配置 + 数据”整体恢复需求

#### 2️⃣ 原生跨区域灾备
- AWS Backup **原生支持跨区域复制**
- 可在其他 Region 直接恢复 EC2 实例

#### 3️⃣ 运维成本最低
- 无需编写 Lambda
- 无需维护自定义调度、错误处理
- 官方托管服务，考试标准答案

---

### 其他选项为什么错

#### ❌ A. Lambda + 快照 + 跨区域
- 需要自定义代码
- 需自己管理：
  - 调度
  - 错误处理
  - 快照一致性
- **不符合“最具操作效率”**

---

#### ❌ C. 只备份 EBS 卷
- **不包含 EC2 实例配置**
- 无法直接恢复完整应用环境
- 题目明确要求：**实例配置 + 数据**

---

#### ❌ D. 复制到不同可用区
- 题目要求的是 **不同 AWS 区域**
- 可用区 ≠ 区域
- 灾备等级不满足要求

---

## 一句话记忆
> **EC2 + EBS 要整体备份并支持跨 Region → AWS Backup + 选 EC2 作为资源**

考试秒杀版：

> **凡是“高效 + 跨区域恢复 + EC2/EBS” → 直接选 AWS Backup（备 EC2）**
