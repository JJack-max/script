## 问题 #245（纠错后）

一家公司正在 AWS 上启动一个应用程序。  
该应用程序使用 **Application Load Balancer（ALB）** 将流量导向**至少两个 Amazon EC2 实例**，这些实例位于**同一个目标组**中。  
在**不同环境（开发环境和生产环境）**中，这些实例都由 **Auto Scaling 组**管理。  

公司需要一个**开发环境**和一个**生产环境**。  
**生产环境**将有**高流量时段**。  

哪种解决方案可以**以最具成本效益的方式配置开发环境**？

A. 重新配置开发环境中的目标组，使其只有一个 EC2 实例作为目标。  
B. 将 ALB 的负载均衡算法更改为最少未完成请求。  
C. 减少两个环境中 EC2 实例的实例大小。  
D. 减少开发环境的 Auto Scaling 组中的 EC2 实例的**最大数量**。

---

## 正确答案
**👉 D**

---

## 解析

### 考点
- **开发环境 vs 生产环境的成本控制**
- Auto Scaling 组参数含义
- 在不影响架构一致性的前提下降低成本

---

### 为什么选 D

- **开发环境流量低**
- Auto Scaling 组的：
  - `Min`
  - `Desired`
  - `Max`
  决定了实例数量边界
- **减少开发环境 ASG 的最大实例数**
  - 直接限制最多可启动的 EC2 数量
  - 不影响生产环境
  - 不改变架构、不影响测试一致性
- 成本立刻可控、风险最低

👉 这是 **AWS 官方推荐的环境分级成本控制方式**

---

### 其他选项为什么错

#### ❌ A. 目标组只保留一个实例
- ALB 本身要求：
  - 至少两个目标才具备高可用意义
- 会导致：
  - 单点故障
  - 与生产架构不一致

---

#### ❌ B. 更改负载均衡算法
- 只影响请求分发方式
- ❌ **不影响实例数量**
- 对成本几乎没有帮助

---

#### ❌ C. 减少两个环境的实例大小
- 会影响：
  - **生产环境性能**
- 不符合“只优化开发环境成本”的要求

---

## 一句话记忆
> **开发环境省钱 = 控制 Auto Scaling 上限**

考试秒杀版：

> **看到“开发 vs 生产 + 成本” → 优先调 ASG 的 Max 值**
